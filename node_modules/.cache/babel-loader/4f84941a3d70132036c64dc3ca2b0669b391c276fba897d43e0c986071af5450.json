{"ast":null,"code":"import _objectWithoutProperties from \"/home/joel/Desktop/Application Development/Autogenerate2dmovie/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _defineProperty from \"/home/joel/Desktop/Application Development/Autogenerate2dmovie/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classPrivateFieldInitSpec from \"/home/joel/Desktop/Application Development/Autogenerate2dmovie/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldSet from \"/home/joel/Desktop/Application Development/Autogenerate2dmovie/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nimport _classPrivateFieldGet from \"/home/joel/Desktop/Application Development/Autogenerate2dmovie/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nconst _excluded = [\"classWorkerURL\"];\nimport { FFMessageType } from \"./const.js\";\nimport { getMessageID } from \"./utils.js\";\nimport { ERROR_TERMINATED, ERROR_NOT_LOADED } from \"./errors.js\";\n/**\n * Provides APIs to interact with ffmpeg web worker.\n *\n * @example\n * ```ts\n * const ffmpeg = new FFmpeg();\n * ```\n */\nvar _worker = /*#__PURE__*/new WeakMap();\nvar _resolves = /*#__PURE__*/new WeakMap();\nvar _rejects = /*#__PURE__*/new WeakMap();\nvar _logEventCallbacks = /*#__PURE__*/new WeakMap();\nvar _progressEventCallbacks = /*#__PURE__*/new WeakMap();\nvar _registerHandlers = /*#__PURE__*/new WeakMap();\nvar _send = /*#__PURE__*/new WeakMap();\nexport class FFmpeg {\n  constructor() {\n    var _this = this;\n    _classPrivateFieldInitSpec(this, _worker, null);\n    /**\n     * #resolves and #rejects tracks Promise resolves and rejects to\n     * be called when we receive message from web worker.\n     */\n    _classPrivateFieldInitSpec(this, _resolves, {});\n    _classPrivateFieldInitSpec(this, _rejects, {});\n    _classPrivateFieldInitSpec(this, _logEventCallbacks, []);\n    _classPrivateFieldInitSpec(this, _progressEventCallbacks, []);\n    _defineProperty(this, \"loaded\", false);\n    /**\n     * register worker message event handlers.\n     */\n    _classPrivateFieldInitSpec(this, _registerHandlers, () => {\n      if (_classPrivateFieldGet(_worker, this)) {\n        _classPrivateFieldGet(_worker, this).onmessage = _ref => {\n          let {\n            data: {\n              id,\n              type,\n              data\n            }\n          } = _ref;\n          switch (type) {\n            case FFMessageType.LOAD:\n              this.loaded = true;\n              _classPrivateFieldGet(_resolves, this)[id](data);\n              break;\n            case FFMessageType.MOUNT:\n            case FFMessageType.UNMOUNT:\n            case FFMessageType.EXEC:\n            case FFMessageType.FFPROBE:\n            case FFMessageType.WRITE_FILE:\n            case FFMessageType.READ_FILE:\n            case FFMessageType.DELETE_FILE:\n            case FFMessageType.RENAME:\n            case FFMessageType.CREATE_DIR:\n            case FFMessageType.LIST_DIR:\n            case FFMessageType.DELETE_DIR:\n              _classPrivateFieldGet(_resolves, this)[id](data);\n              break;\n            case FFMessageType.LOG:\n              _classPrivateFieldGet(_logEventCallbacks, this).forEach(f => f(data));\n              break;\n            case FFMessageType.PROGRESS:\n              _classPrivateFieldGet(_progressEventCallbacks, this).forEach(f => f(data));\n              break;\n            case FFMessageType.ERROR:\n              _classPrivateFieldGet(_rejects, this)[id](data);\n              break;\n          }\n          delete _classPrivateFieldGet(_resolves, this)[id];\n          delete _classPrivateFieldGet(_rejects, this)[id];\n        };\n      }\n    });\n    /**\n     * Generic function to send messages to web worker.\n     */\n    _classPrivateFieldInitSpec(this, _send, function (_ref2) {\n      let {\n        type,\n        data\n      } = _ref2;\n      let trans = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      let signal = arguments.length > 2 ? arguments[2] : undefined;\n      if (!_classPrivateFieldGet(_worker, _this)) {\n        return Promise.reject(ERROR_NOT_LOADED);\n      }\n      return new Promise((resolve, reject) => {\n        const id = getMessageID();\n        _classPrivateFieldGet(_worker, _this) && _classPrivateFieldGet(_worker, _this).postMessage({\n          id,\n          type,\n          data\n        }, trans);\n        _classPrivateFieldGet(_resolves, _this)[id] = resolve;\n        _classPrivateFieldGet(_rejects, _this)[id] = reject;\n        signal === null || signal === void 0 || signal.addEventListener(\"abort\", () => {\n          reject(new DOMException(\"Message # \".concat(id, \" was aborted\"), \"AbortError\"));\n        }, {\n          once: true\n        });\n      });\n    });\n    /**\n     * Loads ffmpeg-core inside web worker. It is required to call this method first\n     * as it initializes WebAssembly and other essential variables.\n     *\n     * @category FFmpeg\n     * @returns `true` if ffmpeg core is loaded for the first time.\n     */\n    _defineProperty(this, \"load\", function () {\n      let _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        {\n          classWorkerURL\n        } = _ref3,\n        config = _objectWithoutProperties(_ref3, _excluded);\n      let {\n        signal\n      } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!_classPrivateFieldGet(_worker, _this)) {\n        _classPrivateFieldSet(_worker, _this, classWorkerURL ? new Worker(new URL(classWorkerURL, import.meta.url), {\n          type: \"module\"\n        }) :\n        // We need to duplicated the code here to enable webpack\n        // to bundle worekr.js here.\n        new Worker(new URL(\"./worker.js\", import.meta.url), {\n          type: \"module\"\n        }));\n        _classPrivateFieldGet(_registerHandlers, _this).call(_this);\n      }\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.LOAD,\n        data: config\n      }, undefined, signal);\n    });\n    /**\n     * Execute ffmpeg command.\n     *\n     * @remarks\n     * To avoid common I/O issues, [\"-nostdin\", \"-y\"] are prepended to the args\n     * by default.\n     *\n     * @example\n     * ```ts\n     * const ffmpeg = new FFmpeg();\n     * await ffmpeg.load();\n     * await ffmpeg.writeFile(\"video.avi\", ...);\n     * // ffmpeg -i video.avi video.mp4\n     * await ffmpeg.exec([\"-i\", \"video.avi\", \"video.mp4\"]);\n     * const data = ffmpeg.readFile(\"video.mp4\");\n     * ```\n     *\n     * @returns `0` if no error, `!= 0` if timeout (1) or error.\n     * @category FFmpeg\n     */\n    _defineProperty(this, \"exec\", function (/** ffmpeg command line args */\n    args) {\n      let timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      let {\n        signal\n      } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.EXEC,\n        data: {\n          args,\n          timeout\n        }\n      }, undefined, signal);\n    });\n    /**\n     * Execute ffprobe command.\n     *\n     * @example\n     * ```ts\n     * const ffmpeg = new FFmpeg();\n     * await ffmpeg.load();\n     * await ffmpeg.writeFile(\"video.avi\", ...);\n     * // Getting duration of a video in seconds: ffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 video.avi -o output.txt\n     * await ffmpeg.ffprobe([\"-v\", \"error\", \"-show_entries\", \"format=duration\", \"-of\", \"default=noprint_wrappers=1:nokey=1\", \"video.avi\", \"-o\", \"output.txt\"]);\n     * const data = ffmpeg.readFile(\"output.txt\");\n     * ```\n     *\n     * @returns `0` if no error, `!= 0` if timeout (1) or error.\n     * @category FFmpeg\n     */\n    _defineProperty(this, \"ffprobe\", function (/** ffprobe command line args */\n    args) {\n      let timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      let {\n        signal\n      } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.FFPROBE,\n        data: {\n          args,\n          timeout\n        }\n      }, undefined, signal);\n    });\n    /**\n     * Terminate all ongoing API calls and terminate web worker.\n     * `FFmpeg.load()` must be called again before calling any other APIs.\n     *\n     * @category FFmpeg\n     */\n    _defineProperty(this, \"terminate\", () => {\n      const ids = Object.keys(_classPrivateFieldGet(_rejects, this));\n      // rejects all incomplete Promises.\n      for (const id of ids) {\n        _classPrivateFieldGet(_rejects, this)[id](ERROR_TERMINATED);\n        delete _classPrivateFieldGet(_rejects, this)[id];\n        delete _classPrivateFieldGet(_resolves, this)[id];\n      }\n      if (_classPrivateFieldGet(_worker, this)) {\n        _classPrivateFieldGet(_worker, this).terminate();\n        _classPrivateFieldSet(_worker, this, null);\n        this.loaded = false;\n      }\n    });\n    /**\n     * Write data to ffmpeg.wasm.\n     *\n     * @example\n     * ```ts\n     * const ffmpeg = new FFmpeg();\n     * await ffmpeg.load();\n     * await ffmpeg.writeFile(\"video.avi\", await fetchFile(\"../video.avi\"));\n     * await ffmpeg.writeFile(\"text.txt\", \"hello world\");\n     * ```\n     *\n     * @category File System\n     */\n    _defineProperty(this, \"writeFile\", function (path, data) {\n      let {\n        signal\n      } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      const trans = [];\n      if (data instanceof Uint8Array) {\n        trans.push(data.buffer);\n      }\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.WRITE_FILE,\n        data: {\n          path,\n          data\n        }\n      }, trans, signal);\n    });\n    _defineProperty(this, \"mount\", (fsType, options, mountPoint) => {\n      const trans = [];\n      return _classPrivateFieldGet(_send, this).call(this, {\n        type: FFMessageType.MOUNT,\n        data: {\n          fsType,\n          options,\n          mountPoint\n        }\n      }, trans);\n    });\n    _defineProperty(this, \"unmount\", mountPoint => {\n      const trans = [];\n      return _classPrivateFieldGet(_send, this).call(this, {\n        type: FFMessageType.UNMOUNT,\n        data: {\n          mountPoint\n        }\n      }, trans);\n    });\n    /**\n     * Read data from ffmpeg.wasm.\n     *\n     * @example\n     * ```ts\n     * const ffmpeg = new FFmpeg();\n     * await ffmpeg.load();\n     * const data = await ffmpeg.readFile(\"video.mp4\");\n     * ```\n     *\n     * @category File System\n     */\n    _defineProperty(this, \"readFile\", function (path) {\n      let encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"binary\";\n      let {\n        signal\n      } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.READ_FILE,\n        data: {\n          path,\n          encoding\n        }\n      }, undefined, signal);\n    });\n    /**\n     * Delete a file.\n     *\n     * @category File System\n     */\n    _defineProperty(this, \"deleteFile\", function (path) {\n      let {\n        signal\n      } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.DELETE_FILE,\n        data: {\n          path\n        }\n      }, undefined, signal);\n    });\n    /**\n     * Rename a file or directory.\n     *\n     * @category File System\n     */\n    _defineProperty(this, \"rename\", function (oldPath, newPath) {\n      let {\n        signal\n      } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.RENAME,\n        data: {\n          oldPath,\n          newPath\n        }\n      }, undefined, signal);\n    });\n    /**\n     * Create a directory.\n     *\n     * @category File System\n     */\n    _defineProperty(this, \"createDir\", function (path) {\n      let {\n        signal\n      } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.CREATE_DIR,\n        data: {\n          path\n        }\n      }, undefined, signal);\n    });\n    /**\n     * List directory contents.\n     *\n     * @category File System\n     */\n    _defineProperty(this, \"listDir\", function (path) {\n      let {\n        signal\n      } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.LIST_DIR,\n        data: {\n          path\n        }\n      }, undefined, signal);\n    });\n    /**\n     * Delete an empty directory.\n     *\n     * @category File System\n     */\n    _defineProperty(this, \"deleteDir\", function (path) {\n      let {\n        signal\n      } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return _classPrivateFieldGet(_send, _this).call(_this, {\n        type: FFMessageType.DELETE_DIR,\n        data: {\n          path\n        }\n      }, undefined, signal);\n    });\n  }\n  on(event, callback) {\n    if (event === \"log\") {\n      _classPrivateFieldGet(_logEventCallbacks, this).push(callback);\n    } else if (event === \"progress\") {\n      _classPrivateFieldGet(_progressEventCallbacks, this).push(callback);\n    }\n  }\n  off(event, callback) {\n    if (event === \"log\") {\n      _classPrivateFieldSet(_logEventCallbacks, this, _classPrivateFieldGet(_logEventCallbacks, this).filter(f => f !== callback));\n    } else if (event === \"progress\") {\n      _classPrivateFieldSet(_progressEventCallbacks, this, _classPrivateFieldGet(_progressEventCallbacks, this).filter(f => f !== callback));\n    }\n  }\n}","map":{"version":3,"names":["FFMessageType","getMessageID","ERROR_TERMINATED","ERROR_NOT_LOADED","_worker","WeakMap","_resolves","_rejects","_logEventCallbacks","_progressEventCallbacks","_registerHandlers","_send","FFmpeg","constructor","_this","_classPrivateFieldInitSpec","_defineProperty","_classPrivateFieldGet","onmessage","_ref","data","id","type","LOAD","loaded","MOUNT","UNMOUNT","EXEC","FFPROBE","WRITE_FILE","READ_FILE","DELETE_FILE","RENAME","CREATE_DIR","LIST_DIR","DELETE_DIR","LOG","forEach","f","PROGRESS","ERROR","_ref2","trans","arguments","length","undefined","signal","Promise","reject","resolve","postMessage","addEventListener","DOMException","concat","once","_ref3","classWorkerURL","config","_objectWithoutProperties","_excluded","_classPrivateFieldSet","Worker","URL","import","meta","url","call","args","timeout","ids","Object","keys","terminate","path","Uint8Array","push","buffer","fsType","options","mountPoint","encoding","oldPath","newPath","on","event","callback","off","filter"],"sources":["/home/joel/Desktop/Application Development/Autogenerate2dmovie/node_modules/@ffmpeg/ffmpeg/dist/esm/classes.js"],"sourcesContent":["import { FFMessageType } from \"./const.js\";\nimport { getMessageID } from \"./utils.js\";\nimport { ERROR_TERMINATED, ERROR_NOT_LOADED } from \"./errors.js\";\n/**\n * Provides APIs to interact with ffmpeg web worker.\n *\n * @example\n * ```ts\n * const ffmpeg = new FFmpeg();\n * ```\n */\nexport class FFmpeg {\n    #worker = null;\n    /**\n     * #resolves and #rejects tracks Promise resolves and rejects to\n     * be called when we receive message from web worker.\n     */\n    #resolves = {};\n    #rejects = {};\n    #logEventCallbacks = [];\n    #progressEventCallbacks = [];\n    loaded = false;\n    /**\n     * register worker message event handlers.\n     */\n    #registerHandlers = () => {\n        if (this.#worker) {\n            this.#worker.onmessage = ({ data: { id, type, data }, }) => {\n                switch (type) {\n                    case FFMessageType.LOAD:\n                        this.loaded = true;\n                        this.#resolves[id](data);\n                        break;\n                    case FFMessageType.MOUNT:\n                    case FFMessageType.UNMOUNT:\n                    case FFMessageType.EXEC:\n                    case FFMessageType.FFPROBE:\n                    case FFMessageType.WRITE_FILE:\n                    case FFMessageType.READ_FILE:\n                    case FFMessageType.DELETE_FILE:\n                    case FFMessageType.RENAME:\n                    case FFMessageType.CREATE_DIR:\n                    case FFMessageType.LIST_DIR:\n                    case FFMessageType.DELETE_DIR:\n                        this.#resolves[id](data);\n                        break;\n                    case FFMessageType.LOG:\n                        this.#logEventCallbacks.forEach((f) => f(data));\n                        break;\n                    case FFMessageType.PROGRESS:\n                        this.#progressEventCallbacks.forEach((f) => f(data));\n                        break;\n                    case FFMessageType.ERROR:\n                        this.#rejects[id](data);\n                        break;\n                }\n                delete this.#resolves[id];\n                delete this.#rejects[id];\n            };\n        }\n    };\n    /**\n     * Generic function to send messages to web worker.\n     */\n    #send = ({ type, data }, trans = [], signal) => {\n        if (!this.#worker) {\n            return Promise.reject(ERROR_NOT_LOADED);\n        }\n        return new Promise((resolve, reject) => {\n            const id = getMessageID();\n            this.#worker && this.#worker.postMessage({ id, type, data }, trans);\n            this.#resolves[id] = resolve;\n            this.#rejects[id] = reject;\n            signal?.addEventListener(\"abort\", () => {\n                reject(new DOMException(`Message # ${id} was aborted`, \"AbortError\"));\n            }, { once: true });\n        });\n    };\n    on(event, callback) {\n        if (event === \"log\") {\n            this.#logEventCallbacks.push(callback);\n        }\n        else if (event === \"progress\") {\n            this.#progressEventCallbacks.push(callback);\n        }\n    }\n    off(event, callback) {\n        if (event === \"log\") {\n            this.#logEventCallbacks = this.#logEventCallbacks.filter((f) => f !== callback);\n        }\n        else if (event === \"progress\") {\n            this.#progressEventCallbacks = this.#progressEventCallbacks.filter((f) => f !== callback);\n        }\n    }\n    /**\n     * Loads ffmpeg-core inside web worker. It is required to call this method first\n     * as it initializes WebAssembly and other essential variables.\n     *\n     * @category FFmpeg\n     * @returns `true` if ffmpeg core is loaded for the first time.\n     */\n    load = ({ classWorkerURL, ...config } = {}, { signal } = {}) => {\n        if (!this.#worker) {\n            this.#worker = classWorkerURL ?\n                new Worker(new URL(classWorkerURL, import.meta.url), {\n                    type: \"module\",\n                }) :\n                // We need to duplicated the code here to enable webpack\n                // to bundle worekr.js here.\n                new Worker(new URL(\"./worker.js\", import.meta.url), {\n                    type: \"module\",\n                });\n            this.#registerHandlers();\n        }\n        return this.#send({\n            type: FFMessageType.LOAD,\n            data: config,\n        }, undefined, signal);\n    };\n    /**\n     * Execute ffmpeg command.\n     *\n     * @remarks\n     * To avoid common I/O issues, [\"-nostdin\", \"-y\"] are prepended to the args\n     * by default.\n     *\n     * @example\n     * ```ts\n     * const ffmpeg = new FFmpeg();\n     * await ffmpeg.load();\n     * await ffmpeg.writeFile(\"video.avi\", ...);\n     * // ffmpeg -i video.avi video.mp4\n     * await ffmpeg.exec([\"-i\", \"video.avi\", \"video.mp4\"]);\n     * const data = ffmpeg.readFile(\"video.mp4\");\n     * ```\n     *\n     * @returns `0` if no error, `!= 0` if timeout (1) or error.\n     * @category FFmpeg\n     */\n    exec = (\n    /** ffmpeg command line args */\n    args, \n    /**\n     * milliseconds to wait before stopping the command execution.\n     *\n     * @defaultValue -1\n     */\n    timeout = -1, { signal } = {}) => this.#send({\n        type: FFMessageType.EXEC,\n        data: { args, timeout },\n    }, undefined, signal);\n    /**\n     * Execute ffprobe command.\n     *\n     * @example\n     * ```ts\n     * const ffmpeg = new FFmpeg();\n     * await ffmpeg.load();\n     * await ffmpeg.writeFile(\"video.avi\", ...);\n     * // Getting duration of a video in seconds: ffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 video.avi -o output.txt\n     * await ffmpeg.ffprobe([\"-v\", \"error\", \"-show_entries\", \"format=duration\", \"-of\", \"default=noprint_wrappers=1:nokey=1\", \"video.avi\", \"-o\", \"output.txt\"]);\n     * const data = ffmpeg.readFile(\"output.txt\");\n     * ```\n     *\n     * @returns `0` if no error, `!= 0` if timeout (1) or error.\n     * @category FFmpeg\n     */\n    ffprobe = (\n    /** ffprobe command line args */\n    args, \n    /**\n     * milliseconds to wait before stopping the command execution.\n     *\n     * @defaultValue -1\n     */\n    timeout = -1, { signal } = {}) => this.#send({\n        type: FFMessageType.FFPROBE,\n        data: { args, timeout },\n    }, undefined, signal);\n    /**\n     * Terminate all ongoing API calls and terminate web worker.\n     * `FFmpeg.load()` must be called again before calling any other APIs.\n     *\n     * @category FFmpeg\n     */\n    terminate = () => {\n        const ids = Object.keys(this.#rejects);\n        // rejects all incomplete Promises.\n        for (const id of ids) {\n            this.#rejects[id](ERROR_TERMINATED);\n            delete this.#rejects[id];\n            delete this.#resolves[id];\n        }\n        if (this.#worker) {\n            this.#worker.terminate();\n            this.#worker = null;\n            this.loaded = false;\n        }\n    };\n    /**\n     * Write data to ffmpeg.wasm.\n     *\n     * @example\n     * ```ts\n     * const ffmpeg = new FFmpeg();\n     * await ffmpeg.load();\n     * await ffmpeg.writeFile(\"video.avi\", await fetchFile(\"../video.avi\"));\n     * await ffmpeg.writeFile(\"text.txt\", \"hello world\");\n     * ```\n     *\n     * @category File System\n     */\n    writeFile = (path, data, { signal } = {}) => {\n        const trans = [];\n        if (data instanceof Uint8Array) {\n            trans.push(data.buffer);\n        }\n        return this.#send({\n            type: FFMessageType.WRITE_FILE,\n            data: { path, data },\n        }, trans, signal);\n    };\n    mount = (fsType, options, mountPoint) => {\n        const trans = [];\n        return this.#send({\n            type: FFMessageType.MOUNT,\n            data: { fsType, options, mountPoint },\n        }, trans);\n    };\n    unmount = (mountPoint) => {\n        const trans = [];\n        return this.#send({\n            type: FFMessageType.UNMOUNT,\n            data: { mountPoint },\n        }, trans);\n    };\n    /**\n     * Read data from ffmpeg.wasm.\n     *\n     * @example\n     * ```ts\n     * const ffmpeg = new FFmpeg();\n     * await ffmpeg.load();\n     * const data = await ffmpeg.readFile(\"video.mp4\");\n     * ```\n     *\n     * @category File System\n     */\n    readFile = (path, \n    /**\n     * File content encoding, supports two encodings:\n     * - utf8: read file as text file, return data in string type.\n     * - binary: read file as binary file, return data in Uint8Array type.\n     *\n     * @defaultValue binary\n     */\n    encoding = \"binary\", { signal } = {}) => this.#send({\n        type: FFMessageType.READ_FILE,\n        data: { path, encoding },\n    }, undefined, signal);\n    /**\n     * Delete a file.\n     *\n     * @category File System\n     */\n    deleteFile = (path, { signal } = {}) => this.#send({\n        type: FFMessageType.DELETE_FILE,\n        data: { path },\n    }, undefined, signal);\n    /**\n     * Rename a file or directory.\n     *\n     * @category File System\n     */\n    rename = (oldPath, newPath, { signal } = {}) => this.#send({\n        type: FFMessageType.RENAME,\n        data: { oldPath, newPath },\n    }, undefined, signal);\n    /**\n     * Create a directory.\n     *\n     * @category File System\n     */\n    createDir = (path, { signal } = {}) => this.#send({\n        type: FFMessageType.CREATE_DIR,\n        data: { path },\n    }, undefined, signal);\n    /**\n     * List directory contents.\n     *\n     * @category File System\n     */\n    listDir = (path, { signal } = {}) => this.#send({\n        type: FFMessageType.LIST_DIR,\n        data: { path },\n    }, undefined, signal);\n    /**\n     * Delete an empty directory.\n     *\n     * @category File System\n     */\n    deleteDir = (path, { signal } = {}) => this.#send({\n        type: FFMessageType.DELETE_DIR,\n        data: { path },\n    }, undefined, signal);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}