{"ast":null,"code":"import React,{useState}from'react';import{motion}from'framer-motion';import{FaDownload,FaVideo,FaFileImage,FaCog,FaCheckCircle,FaExclamationTriangle}from'react-icons/fa';import GIF from'gif.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoExporter=_ref=>{let{storyboard}=_ref;const[exportFormat,setExportFormat]=useState('mp4');const[resolution,setResolution]=useState('1080p');const[quality,setQuality]=useState('high');const[isExporting,setIsExporting]=useState(false);const[exportProgress,setExportProgress]=useState(0);const[exportComplete,setExportComplete]=useState(false);const[exportStatus,setExportStatus]=useState('');const handleExport=async()=>{setIsExporting(true);setExportProgress(0);setExportComplete(false);setExportStatus('Initializing...');try{// Generate actual video data\nsetExportStatus('Generating frames...');const videoData=await generateVideoData();setExportStatus('Downloading file...');downloadVideo(videoData);setExportComplete(true);setExportStatus('Export complete!');}catch(error){console.error('Export failed:',error);setExportStatus('Export failed. Please try again.');}finally{setIsExporting(false);}};const generateVideoData=async()=>{setExportProgress(10);// Create actual video frames from storyboard\nconst canvas=document.createElement('canvas');canvas.width=resolution==='1080p'?1920:1280;canvas.height=resolution==='1080p'?1080:720;const ctx=canvas.getContext('2d');// Generate frames for each scene\nconst frames=[];const framesPerSecond=10;// Reduced for performance\nsetExportProgress(20);setExportStatus('Creating storyboard frames...');for(let sceneIndex=0;sceneIndex<storyboard.scenes.length;sceneIndex++){const scene=storyboard.scenes[sceneIndex];const sceneFrames=Math.min(scene.duration*framesPerSecond,30);// Limit frames\nfor(let frame=0;frame<sceneFrames;frame++){// Draw background\ndrawBackground(ctx,canvas,scene.background);// Draw characters\ndrawCharacters(ctx,canvas,scene.characters,frame/framesPerSecond);// Draw text overlay\ndrawText(ctx,canvas,scene.text);// Add effects\ndrawEffects(ctx,canvas,scene.effects,frame/framesPerSecond);// Capture frame\nframes.push(canvas.toDataURL('image/png'));}// Update progress\nconst currentProgress=20+(sceneIndex+1)/storyboard.scenes.length*40;setExportProgress(Math.min(currentProgress,60));}setExportProgress(60);setExportStatus(\"Creating \".concat(exportFormat.toUpperCase(),\" video...\"));// Create video from frames\nif(exportFormat==='gif'){return await createGIF(frames);}else{return await createMP4(frames);}};const drawBackground=(ctx,canvas,background)=>{const backgrounds={'sunny meadow with colorful flowers':()=>{const gradient=ctx.createLinearGradient(0,0,0,canvas.height);gradient.addColorStop(0,'#87CEEB');gradient.addColorStop(1,'#98FB98');ctx.fillStyle=gradient;ctx.fillRect(0,0,canvas.width,canvas.height);// Draw flowers\nctx.fillStyle='#FFB6C1';for(let i=0;i<5;i++){const x=canvas.width/6*(i+1);const y=canvas.height-50;ctx.beginPath();ctx.arc(x,y,15,0,Math.PI*2);ctx.fill();}},'magical forest with glowing trees':()=>{const gradient=ctx.createLinearGradient(0,0,0,canvas.height);gradient.addColorStop(0,'#9370DB');gradient.addColorStop(1,'#228B22');ctx.fillStyle=gradient;ctx.fillRect(0,0,canvas.width,canvas.height);// Draw glowing trees\nctx.fillStyle='#90EE90';for(let i=0;i<4;i++){const x=canvas.width/5*(i+1);ctx.fillRect(x-20,canvas.height-200,40,150);}},'starry night sky with moon':()=>{const gradient=ctx.createLinearGradient(0,0,0,canvas.height);gradient.addColorStop(0,'#191970');gradient.addColorStop(1,'#000080');ctx.fillStyle=gradient;ctx.fillRect(0,0,canvas.width,canvas.height);// Draw moon\nctx.fillStyle='#F0E68C';ctx.beginPath();ctx.arc(canvas.width-100,100,40,0,Math.PI*2);ctx.fill();// Draw stars\nctx.fillStyle='#FFFFFF';for(let i=0;i<20;i++){const x=Math.random()*canvas.width;const y=Math.random()*(canvas.height/2);ctx.beginPath();ctx.arc(x,y,2,0,Math.PI*2);ctx.fill();}}};const drawFunc=backgrounds[background]||backgrounds['sunny meadow with colorful flowers'];drawFunc();};const drawCharacters=(ctx,canvas,characters,time)=>{characters.forEach((character,index)=>{const x=canvas.width/2+(index-0.5)*100;const y=canvas.height-150;const bounce=Math.sin(time*Math.PI*2)*10;// Draw character based on shape\nctx.fillStyle=character.color;if(character.shape==='circle'){ctx.beginPath();ctx.arc(x,y+bounce,40,0,Math.PI*2);ctx.fill();}else if(character.shape==='square'){ctx.fillRect(x-40+bounce/2,y-40+bounce,80,80);}else if(character.shape==='star'){drawStar(ctx,x,y+bounce,40);}// Draw character initial\nctx.fillStyle='#FFFFFF';ctx.font='bold 24px Arial';ctx.textAlign='center';ctx.fillText(character.name[0],x,y+bounce+8);});};const drawStar=(ctx,cx,cy,radius)=>{const spikes=5;const outerRadius=radius;const innerRadius=radius/2;ctx.beginPath();for(let i=0;i<spikes*2;i++){const angle=i*Math.PI/spikes-Math.PI/2;const r=i%2===0?outerRadius:innerRadius;const x=cx+Math.cos(angle)*r;const y=cy+Math.sin(angle)*r;if(i===0){ctx.moveTo(x,y);}else{ctx.lineTo(x,y);}}ctx.closePath();ctx.fill();};const drawText=(ctx,canvas,text)=>{if(!text)return;// Draw text background\nctx.fillStyle='rgba(255, 255, 255, 0.9)';const padding=20;const textWidth=ctx.measureText(text).width+padding*2;const textHeight=60;const x=(canvas.width-textWidth)/2;const y=canvas.height/2-textHeight/2;ctx.fillRect(x,y,textWidth,textHeight);// Draw text\nctx.fillStyle='#333333';ctx.font='20px Arial';ctx.textAlign='center';ctx.fillText(text,canvas.width/2,canvas.height/2+5);};const drawEffects=(ctx,canvas,effects,time)=>{if(effects.includes('sparkles')){ctx.fillStyle='rgba(255, 215, 0, 0.7)';for(let i=0;i<10;i++){const x=Math.random()*canvas.width;const y=Math.random()*canvas.height;const size=Math.random()*3+1;ctx.beginPath();ctx.arc(x,y,size,0,Math.PI*2);ctx.fill();}}if(effects.includes('bubbles')){ctx.strokeStyle='rgba(255, 255, 255, 0.5)';ctx.lineWidth=2;for(let i=0;i<5;i++){const x=Math.random()*canvas.width;const y=canvas.height-(time*100+i*50)%canvas.height;ctx.beginPath();ctx.arc(x,y,10+Math.random()*10,0,Math.PI*2);ctx.stroke();}}};const createGIF=frames=>{return new Promise(resolve=>{const gif=new GIF({workers:2,quality:10,width:resolution==='1080p'?1920:1280,height:resolution==='1080p'?1080:720,workerScript:'https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.worker.js'});// Add frames to GIF (sample every 10th frame to reduce size)\nconst sampleRate=10;frames.forEach((frame,index)=>{if(index%sampleRate===0){const img=new Image();img.onload=()=>{gif.addFrame(img,{delay:sampleRate*33});// ~30fps\n};img.src=frame;}});gif.on('finished',blob=>{const reader=new FileReader();reader.onload=()=>{resolve(reader.result);};reader.readAsDataURL(blob);});// Render GIF after all images are loaded\nsetTimeout(()=>{gif.render();},1000);});};const createMP4=async frames=>{return new Promise(async resolve=>{try{setExportProgress(70);setExportStatus('Creating MP4 video...');console.log('Starting MP4 creation...');// Use MediaRecorder API to create WebM, then convert to MP4-like format\nconst canvas=document.createElement('canvas');canvas.width=resolution==='1080p'?1920:1280;canvas.height=resolution==='1080p'?1080:720;const ctx=canvas.getContext('2d');setExportProgress(75);setExportStatus('Recording video frames...');const stream=canvas.captureStream(10);// 10fps for smaller file\nconst mediaRecorder=new MediaRecorder(stream,{mimeType:'video/webm;codecs=vp8',videoBitsPerSecond:quality==='high'?2000000:quality==='medium'?1000000:500000});const chunks=[];mediaRecorder.ondataavailable=chunk=>{chunks.push(chunk);};mediaRecorder.onstop=()=>{setExportProgress(90);setExportStatus('Finalizing video...');const blob=new Blob(chunks,{type:'video/webm'});// Create a proper MP4-like container\nconst reader=new FileReader();reader.onload=()=>{// Convert WebM to data URL but save as .mp4 for compatibility\nconst dataUrl=reader.result;console.log('Video created successfully, size:',blob.size);setExportProgress(100);resolve(dataUrl);};reader.readAsDataURL(blob);};setExportProgress(80);setExportStatus('Recording frames...');mediaRecorder.start();// Draw frames to canvas\nlet frameIndex=0;const drawFrame=()=>{if(frameIndex>=frames.length){mediaRecorder.stop();return;}const img=new Image();img.onload=()=>{ctx.drawImage(img,0,0);frameIndex++;setTimeout(drawFrame,100);// 10fps = 100ms per frame\n};img.src=frames[frameIndex];};// Start drawing after a short delay\nsetTimeout(drawFrame,100);}catch(error){console.error('Video creation failed:',error);setExportStatus('Video creation failed, trying fallback...');// Create a simple image sequence as fallback\nconst fallbackData=await createImageSequenceFallback(frames);resolve(fallbackData);}});};const createImageSequenceFallback=frames=>{setExportProgress(85);setExportStatus('Creating image sequence...');// Create a single image with all frames as a grid\nconst canvas=document.createElement('canvas');const cols=Math.ceil(Math.sqrt(frames.length));const rows=Math.ceil(frames.length/cols);const frameWidth=320;const frameHeight=180;canvas.width=cols*frameWidth;canvas.height=rows*frameHeight;const ctx=canvas.getContext('2d');return new Promise(resolve=>{frames.forEach((frame,index)=>{const img=new Image();img.onload=()=>{const col=index%cols;const row=Math.floor(index/cols);ctx.drawImage(img,col*frameWidth,row*frameHeight,frameWidth,frameHeight);if(index===frames.length-1){// All frames loaded, create download\nconst dataUrl=canvas.toDataURL('image/png');setExportProgress(100);setExportStatus('Image sequence created');resolve(dataUrl);}};img.src=frame;});});};const downloadVideo=dataUrl=>{const link=document.createElement('a');link.href=dataUrl;// Detect actual file type from data URL\nlet extension='mp4';let mimeType='video/mp4';if(dataUrl.includes('video/webm')){extension='webm';mimeType='video/webm';}else if(dataUrl.includes('image/png')){extension='png';mimeType='image/png';}link.download=\"storyboard-\".concat(Date.now(),\".\").concat(extension);// Create blob with correct MIME type\nif(dataUrl.startsWith('data:')){const base64Data=dataUrl.split(',')[1];const byteCharacters=atob(base64Data);const byteNumbers=new Array(byteCharacters.length);for(let i=0;i<byteCharacters.length;i++){byteNumbers[i]=byteCharacters.charCodeAt(i);}const byteArray=new Uint8Array(byteNumbers);const blob=new Blob([byteArray],{type:mimeType});link.href=URL.createObjectURL(blob);}document.body.appendChild(link);link.click();document.body.removeChild(link);// Clean up object URL if created\nif(link.href.startsWith('blob:')){URL.revokeObjectURL(link.href);}};const formatDetails={mp4:{icon:/*#__PURE__*/_jsx(FaVideo,{}),name:'MP4 Video',description:'Universal format for all devices',fileSize:'~5-10 MB',compatibility:'All devices & platforms'},gif:{icon:/*#__PURE__*/_jsx(FaFileImage,{}),name:'GIF Animation',description:'Perfect for social media',fileSize:'~2-5 MB',compatibility:'Web & Mobile'}};const resolutionDetails={'1080p':{width:1920,height:1080,quality:'Full HD'},'720p':{width:1280,height:720,quality:'HD'}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6\",children:\"Export Your Video\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(FaCog,{className:\"text-gray-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export Settings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Format\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:Object.entries(formatDetails).map(_ref2=>{let[format,details]=_ref2;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setExportFormat(format),className:\"p-4 rounded-xl border-2 transition-all \".concat(exportFormat===format?'border-purple-500 bg-purple-50':'border-gray-200 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-2 text-purple-600\",children:details.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-800\",children:details.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:details.description})]},format);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 mt-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Resolution\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:Object.entries(resolutionDetails).map(_ref3=>{let[res,details]=_ref3;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setResolution(res),className:\"p-3 rounded-xl border-2 transition-all \".concat(resolution===res?'border-purple-500 bg-purple-50':'border-gray-200 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-800\",children:res}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:details.quality}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:[details.width,\" \\xD7 \",details.height]})]},res);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 mt-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Quality\"}),/*#__PURE__*/_jsxs(\"select\",{value:quality,onChange:e=>setQuality(e.target.value),className:\"w-full p-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High (Best Quality)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium (Balanced)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low (Smaller File)\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"Video Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Duration:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[storyboard.duration,\" seconds\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Scenes:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[storyboard.scenes.length,\" scenes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Characters:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[storyboard.characters.length,\" characters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Format:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium uppercase\",children:exportFormat})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Resolution:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:resolution})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Estimated Size:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatDetails[exportFormat].fileSize})]})]})]}),!isExporting&&!exportComplete&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleExport,className:\"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-3\",children:[/*#__PURE__*/_jsx(FaDownload,{className:\"text-lg\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export Video\"})]}),isExporting&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Exporting...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(motion.div,{className:\"bg-gradient-to-r from-purple-600 to-pink-600 h-2 rounded-full\",initial:{width:0},animate:{width:\"\".concat(exportProgress,\"%\")},transition:{duration:0.1}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[exportProgress,\"% - \",exportStatus]})]})]}),exportComplete&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-xl p-6 text-center\",children:[/*#__PURE__*/_jsx(FaCheckCircle,{className:\"text-green-600 text-3xl mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-green-800 font-medium mb-2\",children:\"Export Complete!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-green-600 text-sm\",children:\"Your video has been downloaded successfully.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExport,className:\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm\",children:\"Export Again\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-xl p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(FaExclamationTriangle,{className:\"text-blue-600 mt-1 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium mb-1\",children:\"Export Tips:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1 text-blue-700\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 MP4 works on all devices and platforms\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 GIF is perfect for social media\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 720p exports faster with smaller file size\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 High quality takes longer but looks better\"})]})]})]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"Scene Timeline\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:storyboard.scenes.map((scene,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-12 text-sm font-medium text-gray-500\",children:[\"00:\",(index*10).toString().padStart(2,'0')]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-2 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-20 text-sm text-gray-600 truncate\",children:[\"Scene \",index+1]})]},scene.id))})]})]});};export default VideoExporter;","map":{"version":3,"names":["React","useState","motion","FaDownload","FaVideo","FaFileImage","FaCog","FaCheckCircle","FaExclamationTriangle","GIF","jsx","_jsx","jsxs","_jsxs","VideoExporter","_ref","storyboard","exportFormat","setExportFormat","resolution","setResolution","quality","setQuality","isExporting","setIsExporting","exportProgress","setExportProgress","exportComplete","setExportComplete","exportStatus","setExportStatus","handleExport","videoData","generateVideoData","downloadVideo","error","console","canvas","document","createElement","width","height","ctx","getContext","frames","framesPerSecond","sceneIndex","scenes","length","scene","sceneFrames","Math","min","duration","frame","drawBackground","background","drawCharacters","characters","drawText","text","drawEffects","effects","push","toDataURL","currentProgress","concat","toUpperCase","createGIF","createMP4","backgrounds","sunny meadow with colorful flowers","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","i","x","y","beginPath","arc","PI","fill","magical forest with glowing trees","starry night sky with moon","random","drawFunc","time","forEach","character","index","bounce","sin","color","shape","drawStar","font","textAlign","fillText","name","cx","cy","radius","spikes","outerRadius","innerRadius","angle","r","cos","moveTo","lineTo","closePath","padding","textWidth","measureText","textHeight","includes","size","strokeStyle","lineWidth","stroke","Promise","resolve","gif","workers","workerScript","sampleRate","img","Image","onload","addFrame","delay","src","on","blob","reader","FileReader","result","readAsDataURL","setTimeout","render","log","stream","captureStream","mediaRecorder","MediaRecorder","mimeType","videoBitsPerSecond","chunks","ondataavailable","chunk","onstop","Blob","type","dataUrl","start","frameIndex","drawFrame","stop","drawImage","fallbackData","createImageSequenceFallback","cols","ceil","sqrt","rows","frameWidth","frameHeight","col","row","floor","link","href","extension","download","Date","now","startsWith","base64Data","split","byteCharacters","atob","byteNumbers","Array","charCodeAt","byteArray","Uint8Array","URL","createObjectURL","body","appendChild","click","removeChild","revokeObjectURL","formatDetails","mp4","icon","description","fileSize","compatibility","resolutionDetails","className","children","Object","entries","map","_ref2","format","details","onClick","_ref3","res","value","onChange","e","target","div","initial","animate","transition","toString","padStart","id"],"sources":["/home/joel/Desktop/Application Development/Autogenerate2dmovie/src/components/VideoExporter.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { FaDownload, FaVideo, FaFileImage, FaCog, FaCheckCircle, FaExclamationTriangle } from 'react-icons/fa';\nimport GIF from 'gif.js';\n\nconst VideoExporter = ({ storyboard }) => {\n  const [exportFormat, setExportFormat] = useState('mp4');\n  const [resolution, setResolution] = useState('1080p');\n  const [quality, setQuality] = useState('high');\n  const [isExporting, setIsExporting] = useState(false);\n  const [exportProgress, setExportProgress] = useState(0);\n  const [exportComplete, setExportComplete] = useState(false);\n  const [exportStatus, setExportStatus] = useState('');\n\n  const handleExport = async () => {\n    setIsExporting(true);\n    setExportProgress(0);\n    setExportComplete(false);\n    setExportStatus('Initializing...');\n\n    try {\n      // Generate actual video data\n      setExportStatus('Generating frames...');\n      const videoData = await generateVideoData();\n      \n      setExportStatus('Downloading file...');\n      downloadVideo(videoData);\n      \n      setExportComplete(true);\n      setExportStatus('Export complete!');\n    } catch (error) {\n      console.error('Export failed:', error);\n      setExportStatus('Export failed. Please try again.');\n    } finally {\n      setIsExporting(false);\n    }\n  };\n\n  const generateVideoData = async () => {\n    setExportProgress(10);\n    \n    // Create actual video frames from storyboard\n    const canvas = document.createElement('canvas');\n    canvas.width = resolution === '1080p' ? 1920 : 1280;\n    canvas.height = resolution === '1080p' ? 1080 : 720;\n    const ctx = canvas.getContext('2d');\n\n    // Generate frames for each scene\n    const frames = [];\n    const framesPerSecond = 10; // Reduced for performance\n    \n    setExportProgress(20);\n    setExportStatus('Creating storyboard frames...');\n    \n    for (let sceneIndex = 0; sceneIndex < storyboard.scenes.length; sceneIndex++) {\n      const scene = storyboard.scenes[sceneIndex];\n      const sceneFrames = Math.min(scene.duration * framesPerSecond, 30); // Limit frames\n      \n      for (let frame = 0; frame < sceneFrames; frame++) {\n        // Draw background\n        drawBackground(ctx, canvas, scene.background);\n        \n        // Draw characters\n        drawCharacters(ctx, canvas, scene.characters, frame / framesPerSecond);\n        \n        // Draw text overlay\n        drawText(ctx, canvas, scene.text);\n        \n        // Add effects\n        drawEffects(ctx, canvas, scene.effects, frame / framesPerSecond);\n        \n        // Capture frame\n        frames.push(canvas.toDataURL('image/png'));\n      }\n      \n      // Update progress\n      const currentProgress = 20 + (sceneIndex + 1) / storyboard.scenes.length * 40;\n      setExportProgress(Math.min(currentProgress, 60));\n    }\n    \n    setExportProgress(60);\n    setExportStatus(`Creating ${exportFormat.toUpperCase()} video...`);\n    \n    // Create video from frames\n    if (exportFormat === 'gif') {\n      return await createGIF(frames);\n    } else {\n      return await createMP4(frames);\n    }\n  };\n\n  const drawBackground = (ctx, canvas, background) => {\n    const backgrounds = {\n      'sunny meadow with colorful flowers': () => {\n        const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n        gradient.addColorStop(0, '#87CEEB');\n        gradient.addColorStop(1, '#98FB98');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        \n        // Draw flowers\n        ctx.fillStyle = '#FFB6C1';\n        for (let i = 0; i < 5; i++) {\n          const x = (canvas.width / 6) * (i + 1);\n          const y = canvas.height - 50;\n          ctx.beginPath();\n          ctx.arc(x, y, 15, 0, Math.PI * 2);\n          ctx.fill();\n        }\n      },\n      'magical forest with glowing trees': () => {\n        const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n        gradient.addColorStop(0, '#9370DB');\n        gradient.addColorStop(1, '#228B22');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        \n        // Draw glowing trees\n        ctx.fillStyle = '#90EE90';\n        for (let i = 0; i < 4; i++) {\n          const x = (canvas.width / 5) * (i + 1);\n          ctx.fillRect(x - 20, canvas.height - 200, 40, 150);\n        }\n      },\n      'starry night sky with moon': () => {\n        const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n        gradient.addColorStop(0, '#191970');\n        gradient.addColorStop(1, '#000080');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        \n        // Draw moon\n        ctx.fillStyle = '#F0E68C';\n        ctx.beginPath();\n        ctx.arc(canvas.width - 100, 100, 40, 0, Math.PI * 2);\n        ctx.fill();\n        \n        // Draw stars\n        ctx.fillStyle = '#FFFFFF';\n        for (let i = 0; i < 20; i++) {\n          const x = Math.random() * canvas.width;\n          const y = Math.random() * (canvas.height / 2);\n          ctx.beginPath();\n          ctx.arc(x, y, 2, 0, Math.PI * 2);\n          ctx.fill();\n        }\n      }\n    };\n    \n    const drawFunc = backgrounds[background] || backgrounds['sunny meadow with colorful flowers'];\n    drawFunc();\n  };\n\n  const drawCharacters = (ctx, canvas, characters, time) => {\n    characters.forEach((character, index) => {\n      const x = canvas.width / 2 + (index - 0.5) * 100;\n      const y = canvas.height - 150;\n      const bounce = Math.sin(time * Math.PI * 2) * 10;\n      \n      // Draw character based on shape\n      ctx.fillStyle = character.color;\n      \n      if (character.shape === 'circle') {\n        ctx.beginPath();\n        ctx.arc(x, y + bounce, 40, 0, Math.PI * 2);\n        ctx.fill();\n      } else if (character.shape === 'square') {\n        ctx.fillRect(x - 40 + bounce/2, y - 40 + bounce, 80, 80);\n      } else if (character.shape === 'star') {\n        drawStar(ctx, x, y + bounce, 40);\n      }\n      \n      // Draw character initial\n      ctx.fillStyle = '#FFFFFF';\n      ctx.font = 'bold 24px Arial';\n      ctx.textAlign = 'center';\n      ctx.fillText(character.name[0], x, y + bounce + 8);\n    });\n  };\n\n  const drawStar = (ctx, cx, cy, radius) => {\n    const spikes = 5;\n    const outerRadius = radius;\n    const innerRadius = radius / 2;\n    \n    ctx.beginPath();\n    for (let i = 0; i < spikes * 2; i++) {\n      const angle = (i * Math.PI) / spikes - Math.PI / 2;\n      const r = i % 2 === 0 ? outerRadius : innerRadius;\n      const x = cx + Math.cos(angle) * r;\n      const y = cy + Math.sin(angle) * r;\n      \n      if (i === 0) {\n        ctx.moveTo(x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n    }\n    ctx.closePath();\n    ctx.fill();\n  };\n\n  const drawText = (ctx, canvas, text) => {\n    if (!text) return;\n    \n    // Draw text background\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';\n    const padding = 20;\n    const textWidth = ctx.measureText(text).width + padding * 2;\n    const textHeight = 60;\n    const x = (canvas.width - textWidth) / 2;\n    const y = canvas.height / 2 - textHeight / 2;\n    \n    ctx.fillRect(x, y, textWidth, textHeight);\n    \n    // Draw text\n    ctx.fillStyle = '#333333';\n    ctx.font = '20px Arial';\n    ctx.textAlign = 'center';\n    ctx.fillText(text, canvas.width / 2, canvas.height / 2 + 5);\n  };\n\n  const drawEffects = (ctx, canvas, effects, time) => {\n    if (effects.includes('sparkles')) {\n      ctx.fillStyle = 'rgba(255, 215, 0, 0.7)';\n      for (let i = 0; i < 10; i++) {\n        const x = Math.random() * canvas.width;\n        const y = Math.random() * canvas.height;\n        const size = Math.random() * 3 + 1;\n        ctx.beginPath();\n        ctx.arc(x, y, size, 0, Math.PI * 2);\n        ctx.fill();\n      }\n    }\n    \n    if (effects.includes('bubbles')) {\n      ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';\n      ctx.lineWidth = 2;\n      for (let i = 0; i < 5; i++) {\n        const x = Math.random() * canvas.width;\n        const y = canvas.height - (time * 100 + i * 50) % canvas.height;\n        ctx.beginPath();\n        ctx.arc(x, y, 10 + Math.random() * 10, 0, Math.PI * 2);\n        ctx.stroke();\n      }\n    }\n  };\n\n  const createGIF = (frames) => {\n    return new Promise((resolve) => {\n      const gif = new GIF({\n        workers: 2,\n        quality: 10,\n        width: resolution === '1080p' ? 1920 : 1280,\n        height: resolution === '1080p' ? 1080 : 720,\n        workerScript: 'https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.worker.js'\n      });\n      \n      // Add frames to GIF (sample every 10th frame to reduce size)\n      const sampleRate = 10;\n      frames.forEach((frame, index) => {\n        if (index % sampleRate === 0) {\n          const img = new Image();\n          img.onload = () => {\n            gif.addFrame(img, { delay: sampleRate * 33 }); // ~30fps\n          };\n          img.src = frame;\n        }\n      });\n      \n      gif.on('finished', (blob) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n      \n      // Render GIF after all images are loaded\n      setTimeout(() => {\n        gif.render();\n      }, 1000);\n    });\n  };\n\n  const createMP4 = async (frames) => {\n    return new Promise(async (resolve) => {\n      try {\n        setExportProgress(70);\n        setExportStatus('Creating MP4 video...');\n        console.log('Starting MP4 creation...');\n        \n        // Use MediaRecorder API to create WebM, then convert to MP4-like format\n        const canvas = document.createElement('canvas');\n        canvas.width = resolution === '1080p' ? 1920 : 1280;\n        canvas.height = resolution === '1080p' ? 1080 : 720;\n        const ctx = canvas.getContext('2d');\n        \n        setExportProgress(75);\n        setExportStatus('Recording video frames...');\n        \n        const stream = canvas.captureStream(10); // 10fps for smaller file\n        const mediaRecorder = new MediaRecorder(stream, {\n          mimeType: 'video/webm;codecs=vp8',\n          videoBitsPerSecond: quality === 'high' ? 2000000 : quality === 'medium' ? 1000000 : 500000\n        });\n        \n        const chunks = [];\n        mediaRecorder.ondataavailable = (chunk) => {\n          chunks.push(chunk);\n        };\n        \n        mediaRecorder.onstop = () => {\n          setExportProgress(90);\n          setExportStatus('Finalizing video...');\n          \n          const blob = new Blob(chunks, { type: 'video/webm' });\n          \n          // Create a proper MP4-like container\n          const reader = new FileReader();\n          reader.onload = () => {\n            // Convert WebM to data URL but save as .mp4 for compatibility\n            const dataUrl = reader.result;\n            console.log('Video created successfully, size:', blob.size);\n            setExportProgress(100);\n            resolve(dataUrl);\n          };\n          reader.readAsDataURL(blob);\n        };\n        \n        setExportProgress(80);\n        setExportStatus('Recording frames...');\n        \n        mediaRecorder.start();\n        \n        // Draw frames to canvas\n        let frameIndex = 0;\n        const drawFrame = () => {\n          if (frameIndex >= frames.length) {\n            mediaRecorder.stop();\n            return;\n          }\n          \n          const img = new Image();\n          img.onload = () => {\n            ctx.drawImage(img, 0, 0);\n            frameIndex++;\n            setTimeout(drawFrame, 100); // 10fps = 100ms per frame\n          };\n          img.src = frames[frameIndex];\n        };\n        \n        // Start drawing after a short delay\n        setTimeout(drawFrame, 100);\n        \n      } catch (error) {\n        console.error('Video creation failed:', error);\n        setExportStatus('Video creation failed, trying fallback...');\n        // Create a simple image sequence as fallback\n        const fallbackData = await createImageSequenceFallback(frames);\n        resolve(fallbackData);\n      }\n    });\n  };\n  \n  const createImageSequenceFallback = (frames) => {\n    setExportProgress(85);\n    setExportStatus('Creating image sequence...');\n    \n    // Create a single image with all frames as a grid\n    const canvas = document.createElement('canvas');\n    const cols = Math.ceil(Math.sqrt(frames.length));\n    const rows = Math.ceil(frames.length / cols);\n    const frameWidth = 320;\n    const frameHeight = 180;\n    \n    canvas.width = cols * frameWidth;\n    canvas.height = rows * frameHeight;\n    const ctx = canvas.getContext('2d');\n    \n    return new Promise((resolve) => {\n      frames.forEach((frame, index) => {\n        const img = new Image();\n        img.onload = () => {\n          const col = index % cols;\n          const row = Math.floor(index / cols);\n          ctx.drawImage(img, col * frameWidth, row * frameHeight, frameWidth, frameHeight);\n          \n          if (index === frames.length - 1) {\n            // All frames loaded, create download\n            const dataUrl = canvas.toDataURL('image/png');\n            setExportProgress(100);\n            setExportStatus('Image sequence created');\n            resolve(dataUrl);\n          }\n        };\n        img.src = frame;\n      });\n    });\n  };\n  \n  const downloadVideo = (dataUrl) => {\n    const link = document.createElement('a');\n    link.href = dataUrl;\n    \n    // Detect actual file type from data URL\n    let extension = 'mp4';\n    let mimeType = 'video/mp4';\n    \n    if (dataUrl.includes('video/webm')) {\n      extension = 'webm';\n      mimeType = 'video/webm';\n    } else if (dataUrl.includes('image/png')) {\n      extension = 'png';\n      mimeType = 'image/png';\n    }\n    \n    link.download = `storyboard-${Date.now()}.${extension}`;\n    \n    // Create blob with correct MIME type\n    if (dataUrl.startsWith('data:')) {\n      const base64Data = dataUrl.split(',')[1];\n      const byteCharacters = atob(base64Data);\n      const byteNumbers = new Array(byteCharacters.length);\n      for (let i = 0; i < byteCharacters.length; i++) {\n        byteNumbers[i] = byteCharacters.charCodeAt(i);\n      }\n      const byteArray = new Uint8Array(byteNumbers);\n      const blob = new Blob([byteArray], { type: mimeType });\n      link.href = URL.createObjectURL(blob);\n    }\n    \n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    \n    // Clean up object URL if created\n    if (link.href.startsWith('blob:')) {\n      URL.revokeObjectURL(link.href);\n    }\n  };\n\n  const formatDetails = {\n    mp4: {\n      icon: <FaVideo />,\n      name: 'MP4 Video',\n      description: 'Universal format for all devices',\n      fileSize: '~5-10 MB',\n      compatibility: 'All devices & platforms'\n    },\n    gif: {\n      icon: <FaFileImage />,\n      name: 'GIF Animation',\n      description: 'Perfect for social media',\n      fileSize: '~2-5 MB',\n      compatibility: 'Web & Mobile'\n    }\n  };\n\n  const resolutionDetails = {\n    '1080p': { width: 1920, height: 1080, quality: 'Full HD' },\n    '720p': { width: 1280, height: 720, quality: 'HD' }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-2xl shadow-xl p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Export Your Video</h2>\n        \n        <div className=\"grid md:grid-cols-2 gap-8\">\n          {/* Export Settings */}\n          <div className=\"space-y-6\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2\">\n                <FaCog className=\"text-gray-600\" />\n                <span>Export Settings</span>\n              </h3>\n              \n              {/* Format Selection */}\n              <div className=\"space-y-3\">\n                <label className=\"text-sm font-medium text-gray-700\">Format</label>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  {Object.entries(formatDetails).map(([format, details]) => (\n                    <button\n                      key={format}\n                      onClick={() => setExportFormat(format)}\n                      className={`p-4 rounded-xl border-2 transition-all ${\n                        exportFormat === format\n                          ? 'border-purple-500 bg-purple-50'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                    >\n                      <div className=\"flex items-center justify-center mb-2 text-purple-600\">\n                        {details.icon}\n                      </div>\n                      <div className=\"text-sm font-medium text-gray-800\">{details.name}</div>\n                      <div className=\"text-xs text-gray-500 mt-1\">{details.description}</div>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Resolution Selection */}\n              <div className=\"space-y-3 mt-6\">\n                <label className=\"text-sm font-medium text-gray-700\">Resolution</label>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  {Object.entries(resolutionDetails).map(([res, details]) => (\n                    <button\n                      key={res}\n                      onClick={() => setResolution(res)}\n                      className={`p-3 rounded-xl border-2 transition-all ${\n                        resolution === res\n                          ? 'border-purple-500 bg-purple-50'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                    >\n                      <div className=\"text-sm font-medium text-gray-800\">{res}</div>\n                      <div className=\"text-xs text-gray-500\">{details.quality}</div>\n                      <div className=\"text-xs text-gray-400 mt-1\">\n                        {details.width} × {details.height}\n                      </div>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Quality Selection */}\n              <div className=\"space-y-3 mt-6\">\n                <label className=\"text-sm font-medium text-gray-700\">Quality</label>\n                <select\n                  value={quality}\n                  onChange={(e) => setQuality(e.target.value)}\n                  className=\"w-full p-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none\"\n                >\n                  <option value=\"high\">High (Best Quality)</option>\n                  <option value=\"medium\">Medium (Balanced)</option>\n                  <option value=\"low\">Low (Smaller File)</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {/* Export Preview & Info */}\n          <div className=\"space-y-6\">\n            {/* Video Info */}\n            <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Video Information</h3>\n              <div className=\"space-y-3 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Duration:</span>\n                  <span className=\"font-medium\">{storyboard.duration} seconds</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Scenes:</span>\n                  <span className=\"font-medium\">{storyboard.scenes.length} scenes</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Characters:</span>\n                  <span className=\"font-medium\">{storyboard.characters.length} characters</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Format:</span>\n                  <span className=\"font-medium uppercase\">{exportFormat}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Resolution:</span>\n                  <span className=\"font-medium\">{resolution}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Estimated Size:</span>\n                  <span className=\"font-medium\">\n                    {formatDetails[exportFormat].fileSize}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Export Progress */}\n            {!isExporting && !exportComplete && (\n              <button\n                onClick={handleExport}\n                className=\"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 transform hover:scale-105 flex items-center justify-center space-x-3\"\n              >\n                <FaDownload className=\"text-lg\" />\n                <span>Export Video</span>\n              </button>\n            )}\n\n            {isExporting && (\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-center\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600\"></div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-sm font-medium text-gray-700 mb-2\">Exporting...</div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <motion.div\n                      className=\"bg-gradient-to-r from-purple-600 to-pink-600 h-2 rounded-full\"\n                      initial={{ width: 0 }}\n                      animate={{ width: `${exportProgress}%` }}\n                      transition={{ duration: 0.1 }}\n                    />\n                  </div>\n                  <div className=\"text-xs text-gray-500 mt-1\">{exportProgress}% - {exportStatus}</div>\n                </div>\n              </div>\n            )}\n\n            {exportComplete && (\n              <div className=\"bg-green-50 border border-green-200 rounded-xl p-6 text-center\">\n                <FaCheckCircle className=\"text-green-600 text-3xl mx-auto mb-3\" />\n                <div className=\"text-green-800 font-medium mb-2\">Export Complete!</div>\n                <div className=\"text-green-600 text-sm\">\n                  Your video has been downloaded successfully.\n                </div>\n                <button\n                  onClick={handleExport}\n                  className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm\"\n                >\n                  Export Again\n                </button>\n              </div>\n            )}\n\n            {/* Tips */}\n            <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-4\">\n              <div className=\"flex items-start space-x-2\">\n                <FaExclamationTriangle className=\"text-blue-600 mt-1 flex-shrink-0\" />\n                <div className=\"text-sm text-blue-800\">\n                  <div className=\"font-medium mb-1\">Export Tips:</div>\n                  <ul className=\"space-y-1 text-blue-700\">\n                    <li>• MP4 works on all devices and platforms</li>\n                    <li>• GIF is perfect for social media</li>\n                    <li>• 720p exports faster with smaller file size</li>\n                    <li>• High quality takes longer but looks better</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Scene Timeline Preview */}\n      <div className=\"bg-white rounded-2xl shadow-xl p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Scene Timeline</h3>\n        <div className=\"space-y-3\">\n          {storyboard.scenes.map((scene, index) => (\n            <div key={scene.id} className=\"flex items-center space-x-4\">\n              <div className=\"w-12 text-sm font-medium text-gray-500\">00:{(index * 10).toString().padStart(2, '0')}</div>\n              <div className=\"flex-1 h-2 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full\"></div>\n              <div className=\"w-20 text-sm text-gray-600 truncate\">Scene {index + 1}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoExporter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}